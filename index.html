<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>TaskMaster | TaskMaster API Reference </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="TaskMaster | TaskMaster API Reference ">
      
      
      <link rel="icon" href="favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/JaCraig/TaskMaster/blob/master/docfx_project/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="images/icon.png" alt="TaskMaster">
            TaskMaster
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="taskmaster">TaskMaster</h1>

<p><a href="https://github.com/JaCraig/TaskMaster/actions/workflows/dotnet-publish.yml"><img src="https://github.com/JaCraig/TaskMaster/actions/workflows/dotnet-publish.yml/badge.svg" alt=".NET Publish"></a></p>
<p>TaskMaster is a lightweight C# library that provides functionality for running tasks based on specific criteria. It simplifies the process of setting up and executing tasks in your application.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>In order to use TaskMaster, you must wire it up first by adding it to your ServiceCollection:</p>
<pre><code class="lang-csharp">serviceCollection.AddCanisterModules();
</code></pre>
<p>Once Canister is configured, you can create a new instance of the TaskMaster service:</p>
<pre><code class="lang-csharp">var Runner = services.GetService&lt;TaskMaster&gt;();
Runner.Run(args);
</code></pre>
<p>The TaskMaster class handles task discovery, prioritization, and execution. It also logs any errors it encounters using Serilog. If Serilog is not registered with Canister, a default empty logger will be used. However, if a logger is specified, events will be logged using the ILogger class.</p>
<h2 id="creating-a-task">Creating a Task</h2>
<p>Creating a task with TaskMaster is straightforward. Simply inherit from the <code>ITask</code> interface and implement its methods. Here's an example of a basic &quot;Hello World&quot; task:</p>
<pre><code class="lang-csharp">/// &lt;summary&gt;
/// Basic hello world task
/// &lt;/summary&gt;
public class HelloWorldTask : ITask
{
    public IFrequency[] Frequencies =&gt; new IFrequency[] { new RunAlways() };

    public string Name =&gt; &quot;Hello World&quot;;

    public int Priority =&gt; 1;

    public bool Execute(DateTime lastRun)
    {
        Console.WriteLine(&quot;Hello World&quot;);
        return true;
    }

    public bool Initialize(IDataManager dataManager)
    {
        return true;
    }
}
</code></pre>
<p>In this example, the task runs every time the <code>Run</code> method of the TaskMaster is called. However, you can specify different frequencies for execution. The task's name is &quot;Hello World,&quot; which is used for logging purposes. The priority is set to 1, determining the execution order. Tasks with lower priority values are executed first, and tasks with the same priority may run in parallel.</p>
<p>The <code>Initialize</code> method is called when the task is created and receives an <code>IDataManager</code> instance, which handles saving and retrieving configuration data for the task. By default, the data manager saves configuration data as JSON-serialized strings, but you can implement your own data manager for customization.</p>
<p>The <code>Execute</code> method is where the actual work of the task should be performed.</p>
<h2 id="installation">Installation</h2>
<p>TaskMaster is available as a NuGet package. You can install it by running the following command in the Package Manager Console:</p>
<pre><code class="lang-shell">Install-Package TaskMaster
</code></pre>
<h2 id="build-process">Build Process</h2>
<p>To build the library, ensure you have the following minimum requirements:</p>
<ul>
<li>Visual Studio 2017</li>
</ul>
<p>Clone the project repository, and you should be able to load the solution in Visual Studio and build it without any issues.</p>
<p>For any further assistance or information, please refer to the project documentation or reach out to the project contributors.</p>
<p>Enjoy using TaskMaster in your applications!</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/JaCraig/TaskMaster/blob/master/docfx_project/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <strong><a href='https://github.com/JaCraig/TaskMaster'>Open in Github</a></strong>
        </div>
      </div>
    </footer>
  </body>
</html>
